!function(e,t,r,n,o,a,i){function s(n){if("[object Array]"===Object.prototype.toString.apply(n)){if("string"==typeof n[0]&&"function"==typeof s[n[0]])return new s[n[0]](n.slice(1,n.length));if(4===n.length)return new s.RGB(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}else if("string"==typeof n){var o=n.toLowerCase();f[o]&&(n="#"+f[o]),"transparent"===o&&(n="rgba(0,0,0,0)");var a=n.match(w);if(a){var i=a[1].toUpperCase(),u=c(a[8])?a[8]:t(a[8]),h="H"===i[0],l=a[3]?100:h?360:255,_=a[5]||h?100:255,v=a[7]||h?100:255;if(c(s[i]))throw new Error("one.color."+i+" is not installed.");return new s[i](t(a[2])/l,t(a[4])/_,t(a[6])/v,u)}n.length<6&&(n=n.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var b=n.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(b)return new s.RGB(r(b[1],16)/255,r(b[2],16)/255,r(b[3],16)/255);if(s.CMYK){var d=n.match(new e("^cmyk\\("+p.source+","+p.source+","+p.source+","+p.source+"\\)$","i"));if(d)return new s.CMYK(t(d[1])/100,t(d[2])/100,t(d[3])/100,t(d[4])/100)}}else if("object"==typeof n&&n.isColor)return n;return!1}function u(e,t,r){function a(e,t){var r={};r[t.toLowerCase()]=new n("return this.rgb()."+t.toLowerCase()+"();"),s[t].propertyNames.forEach(function(e){r[e]=r["black"===e?"k":e[0]]=new n("value","isDelta","return this."+t.toLowerCase()+"()."+e+"(value, isDelta);")});for(var o in r)r.hasOwnProperty(o)&&void 0===s[e].prototype[o]&&(s[e].prototype[o]=r[o])}s[e]=new n(t.join(","),"if (Object.prototype.toString.apply("+t[0]+") === '[object Array]') {"+t.map(function(e,r){return e+"="+t[0]+"["+r+"];"}).reverse().join("")+"}if ("+t.filter(function(e){return"alpha"!==e}).map(function(e){return"isNaN("+e+")"}).join("||")+'){throw new Error("['+e+']: Invalid color: ("+'+t.join('+","+')+'+")");}'+t.map(function(e){return"hue"===e?"this._hue=hue<0?hue-Math.floor(hue):hue%1":"alpha"===e?"this._alpha=(isNaN(alpha)||alpha>1)?1:(alpha<0?0:alpha);":"this._"+e+"="+e+"<0?0:("+e+">1?1:"+e+")"}).join(";")+";"),s[e].propertyNames=t;var i=s[e].prototype;["valueOf","hex","hexa","css","cssa"].forEach(function(t){i[t]=i[t]||("RGB"===e?i.hex:new n("return this.rgb()."+t+"();"))}),i.isColor=!0,i.equals=function(r,n){c(n)&&(n=1e-10),r=r[e.toLowerCase()]();for(var a=0;a<t.length;a+=1)if(o.abs(this["_"+t[a]]-r["_"+t[a]])>n)return!1;return!0},i.toJSON=new n("return ['"+e+"', "+t.map(function(e){return"this._"+e},this).join(", ")+"];");for(var u in r)if(r.hasOwnProperty(u)){var f=u.match(/^from(.*)$/);f?s[f[1].toUpperCase()].prototype[e.toLowerCase()]=r[u]:i[u]=r[u]}i[e.toLowerCase()]=function(){return this},i.toString=new n('return "[one.color.'+e+':"+'+t.map(function(e,r){return'" '+t[r]+'="+this._'+e}).join("+")+'+"]";'),t.forEach(function(e){i[e]=i["black"===e?"k":e[0]]=new n("value","isDelta","if (typeof value === 'undefined') {return this._"+e+";}if (isDelta) {return new this.constructor("+t.map(function(t){return"this._"+t+(e===t?"+value":"")}).join(", ")+");}return new this.constructor("+t.map(function(t){return e===t?"value":"this._"+t}).join(", ")+");")}),h.forEach(function(t){a(e,t),a(t,e)}),h.push(e)}var h=[],f={},c=function(e){return"undefined"==typeof e},l=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,p=/\s*(\.\d+|100|\d?\d(?:\.\d+)?)%\s*/,_=/\s*(\.\d+|\d+(?:\.\d+)?)\s*/,w=new e("^(rgb|hsl|hsv)a?\\("+l.source+","+l.source+","+l.source+"(?:,"+_.source+")?\\)$","i");s.installMethod=function(e,t){h.forEach(function(r){s[r].prototype[e]=t})},u("RGB",["red","green","blue","alpha"],{hex:function(){var e=(65536*a(255*this._red)+256*a(255*this._green)+a(255*this._blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=a(255*this._alpha).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+a(255*this._red)+","+a(255*this._green)+","+a(255*this._blue)+")"},cssa:function(){return"rgba("+a(255*this._red)+","+a(255*this._green)+","+a(255*this._blue)+","+this._alpha+")"}}),"function"!=typeof define||c(define.amd)?"object"==typeof exports?module.exports=s:(one=window.one||{},one.color=s):define(function(){return s}),"undefined"!=typeof jQuery&&c(jQuery.color)&&(jQuery.color=s),u("HSV",["hue","saturation","value","alpha"],{rgb:function(){var e,t,r,n=this._hue,a=this._saturation,u=this._value,h=i(5,o.floor(6*n)),f=6*n-h,c=u*(1-a),l=u*(1-f*a),p=u*(1-(1-f)*a);switch(h){case 0:e=u,t=p,r=c;break;case 1:e=l,t=u,r=c;break;case 2:e=c,t=u,r=p;break;case 3:e=c,t=l,r=u;break;case 4:e=p,t=c,r=u;break;case 5:e=u,t=c,r=l}return new s.RGB(e,t,r,this._alpha)},hsl:function(){var e,t=(2-this._saturation)*this._value,r=this._saturation*this._value,n=1>=t?t:2-t;return e=1e-9>n?0:r/n,new s.HSL(this._hue,e,t/2,this._alpha)},fromRgb:function(){var e,t=this._red,r=this._green,n=this._blue,a=o.max(t,r,n),u=i(t,r,n),h=a-u,f=0===a?0:h/a,c=a;if(0===h)e=0;else switch(a){case t:e=(r-n)/h/6+(n>r?1:0);break;case r:e=(n-t)/h/6+1/3;break;case n:e=(t-r)/h/6+2/3}return new s.HSV(e,f,c,this._alpha)}}),u("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var e,t=2*this._lightness,r=this._saturation*(1>=t?t:2-t);return e=1e-9>t+r?0:2*r/(t+r),new s.HSV(this._hue,e,(t+r)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}})}(RegExp,parseFloat,parseInt,Function,Math,Math.round,Math.min);